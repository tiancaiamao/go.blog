<p>画个心吧！ 之前应该有看到别人画过，但是是什么时间，具体第一次在哪看过，来源已不可考。既然七夕快到了，自己写着玩一下吧。</p><p><img src="static/love0.png" /></p><p>原理是这样的，我们可以把输出当作比如 <code>50 * 100</code> 的点素点阵，这就是我们的 canvas 了。</p><pre><code>for y := 0; y &lt; height; y++ {
    for x := 0; x &lt; width; x++ {
        fmt.Printf(&quot;%c&quot;, '*')
    }
    fmt.Println()
}
</code></pre><p>这是一个 x 轴往右， y 轴往下的坐标系。怎么样画一个函数呢？ <code>y = f(x)</code>，如果把 x 和 y 代入到函数里面，就 print 一个星号，否则 print 一个空格。我们可以写一个函数来判断：</p><pre><code>func point(x, y int) byte {
    if x == y {
        return '*'
    } 
    return ' '
}
</code></pre><p>函数可以换成别的，这样就可以画出不同的曲线了。接下来是一个神奇的公式：</p><p><code>(x^2 + y^2 - 1)^3 = x^2 * y^3</code></p><p>这个函数画出来的图案，就是一个心。它的值域范围 x 和 y 轴大概都在 -1.5 到 1.5 左右，所以我们要把 <code>50 * 100</code> 的 canvas 缩放到这个范围。另外，坐标系需要调整到 canvas 的中心，而不左上角。y 轴反向之后：</p><pre><code>x =&gt; [0 ~ 100]
-y =&gt; [-50 ~ 0]
</code></pre><p>调整坐标原点，以 canvas 为中心而不是左上角：</p><pre><code>x - 50 =&gt; [-50 ~ 50]
25 - y =&gt; [-25 ~ 25]
</code></pre><p>再把范围缩放到 <code>-1.5 ~ 1.5</code> 之间：</p><pre><code>(x - 50) / 100 * 3 =&gt; [-1.5 ~ 1.5]
(25 -y) / 50 * 3 =&gt; [-1.5 ~ 1.5]
</code></pre><p>于是我们就可以把整段代码写出来了：</p><pre><code>package main
import &quot;fmt&quot;
func main() {
    for y := 0; y &lt; 50; y++ {
        for x := 0; x &lt; 100; x++ {
            y1 := (25.0 - float32(y)) / float32(50) * 3
            x1 := (float32(x) - 50.0) / 100.0 * 3
            tmp := (x1*x1 + y1*y1 - 1)
            if tmp*tmp*tmp-x1*x1*y1*y1*y1 &lt; 0 {
                fmt.Printf(&quot;%c&quot;, '*')
            } else {
                fmt.Printf(&quot;%c&quot;, ' ')
            }
        }
        fmt.Println()
    }
}
</code></pre><p>效果是这样子的：</p><p><img src="static/love1.png" /></p><p>我们可以把星号换掉，随机生成一些字符:</p><p><img src="static/love2.png" /></p><p>可以用自己喜欢的妹子（或者汉子也行）的名字去随机，注意需要是 ascii 字符，中文字体宽度有问题，可以用 base64 编码一下。既然是内容，可以在里面写一些句子。唔，似乎用摩尔斯码也不错，只用 . 和 - 去写摩尔斯码。</p><p>继续说画心，我们可以画好几层的心，大小不一样，越靠内层的，&quot;颜色&quot; 越重，反正就是 canvas 输出当像素点阵用的：</p><p><img src="static/love3.png" /></p><p>做这一步需要注意两个点，一个是不同大小的心，缩放要调整一下，不能占满整个 canvas，而中心还是要对齐的。另一个是由于点的颜色有深度了，需要用数组先存起来，之后再画。颜色深度由浅入深可以依次用 <code>. ! + * #</code></p><p><img src="static/love4.png" /></p><p>把代码融合进去也可以，像 C 语言代码混乱大赛那样玩。</p><p><img src="static/love5.png" /></p><p>甚至可以生成一段心形程序，发个密码给 TA 去解。或者藏一个 brain fuck 代码。对于一个 geek 来说，这都不算个事儿。</p><p>祝大家玩得开心！今天画个心，明天可以画点别的，后天再 new 一个女朋友，完美！(手动滑稽</p>